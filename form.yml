---
title: "RStudio Server"
cluster: "fasse"
attributes:
  modules: null
  custom_time:
    label: "Allocated Time (expressed in MM , or HH:MM:SS , or DD-HH:MM)"
    value: "04:00:00"
    widget: text_field
    help: |
      *sbatch -t, --time=\<time\>*
  bc_queue: 
    value: "test"
    help: |
      *sbatch -p, --partition=\<partition_names\>*

      [Slurm partition](https://docs.rc.fas.harvard.edu/kb/fasse/#SLURM_and_Partitions) name (e.g., **fasse** ), or comma-separated list of partition names (e.g., **fasse,test** )
  custom_email_address:
    label: (optional) email address for job status notification
    widget: text_field
  custom_memory_per_node:
    label: Memory Allocation in GB
    value: 8
    min:   1
    step:  1
    max:   2000
    widget: number_field
    help: |
      *sbatch --mem=\<size\>G*
  custom_num_cores:
    label: "Number of CPUs to allocate"
    value: 2
    min:   1
    step:  1
    widget: number_field
    help: |
      *sbatch -c, --cpus-per-task=\<ncpus\>*
  custom_num_gpus:
    label: Number of GPUs
    value: 0
    min:   0
    step:  1
    max:   8
    widget: number_field
    help: |
      Number of GPUs to allocate. Available only on GPU enabled partitions. (--gres=gpu:N)
  r_version:
    widget: select
    label: "R version"
    options:
      - [ "R 4.3.3 (Bioconductor 3.18, RStudio 2023.09.1)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_18.sif" ]
      - [ "R 4.2.3 (Bioconductor 3.16, RStudio 2023.03.0)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_16.sif" ]
      - [ "R 4.2.0 (Bioconductor 3.15, RStudio 2022.02.3)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_15.sif" ]
      - [ "R 4.1.3 (Bioconductor 3.14, RStudio 2022.02.0)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_14.sif" ]
      - [ "R 4.1.0 (Bioconductor 3.13, RStudio 1.4.1717)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_13.sif" ]
      - [ "R 4.0.3 (Bioconductor 3.12, Rstudio 1.3.1093)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_12.sif" ]
      - [ "R 4.0.0 (Bioconductor 3.11, Rstudio 1.3.1093)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_11.sif" ]
      - [ "R 3.6.2 (Bioconductor 3.10, Rstudio 1.2.5033)", "/n/singularity_images/informatics/ifxrstudio/ifxrstudio:RELEASE_3_10.sif" ]
    help: |
      This defines the version of R/Bioconductor you want to use.

  custom_reservation:
    label: "(optional) Slurm Reservation"
    widget: text_field
    help: |
      *sbatch --reservation=\<name\>*

      Leave blank if you do not have a Slurm reservation

  bc_account:
    label: "(optional) Slurm Account"
    help: |
      *sbatch -A, --account=\<account\>*

      Leave blank if you do not have multiple Slurm accounts

  custom_vanillaconf:
    label: "Start rstudio with a new configuration"
    widget: check_box
    value: 1
    help: |
          **_Checking this box will start rstudio with a fresh configuration._** 
          
          This is useful if you need to run different instances at the same time with different configurations.<br> 
          Leave the box unchecked if you want rstudio to start with the default configuration you have in your ~/.rstudio

  extra_slurm:
    label: Additional Slurm options
    widget: text_field
    help: |
      additional slurm options (**long format option only**)<br>
      Example :  --constraint=intel --exclusive

      Please make sure the options you select are compatible with other fields in the form.<br>Also, please make sure you use **long format option only**<br>(e.g. --nodelist=holy7c24502 instead of -w holy7c24502)

form:
  - modules
  - bc_queue
  - custom_memory_per_node
  - custom_num_cores
  - custom_num_gpus
  - custom_time
  - r_version
  - bc_email_on_started
  - custom_email_address
  - custom_reservation
  - custom_vanillaconf
  - bc_account
  - extra_slurm
